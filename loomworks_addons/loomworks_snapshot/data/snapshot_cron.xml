<?xml version="1.0" encoding="utf-8"?>
<!--
    Part of Loomworks ERP. See LICENSE file for full copyright and licensing details.

    This file is part of Loomworks ERP, a fork of Odoo Community.
    Original software copyright: Odoo S.A.
    Loomworks modifications copyright: Loomworks
    License: LGPL-3
-->
<odoo>
    <data noupdate="1">

        <!-- Scheduled Action: Run Due Snapshot Schedules -->
        <record id="ir_cron_snapshot_schedules" model="ir.cron">
            <field name="name">Snapshot: Run Scheduled Snapshots</field>
            <field name="model_id" ref="model_loomworks_snapshot_schedule"/>
            <field name="state">code</field>
            <field name="code">model.run_due_schedules()</field>
            <field name="interval_number">1</field>
            <field name="interval_type">hours</field>
            <field name="numbercall">-1</field>
            <field name="active">True</field>
            <field name="priority">5</field>
        </record>

        <!-- Scheduled Action: Cleanup Expired Snapshots -->
        <record id="ir_cron_snapshot_cleanup" model="ir.cron">
            <field name="name">Snapshot: Cleanup Expired</field>
            <field name="model_id" ref="model_loomworks_snapshot"/>
            <field name="state">code</field>
            <field name="code">model.cleanup_expired_snapshots()</field>
            <field name="interval_number">6</field>
            <field name="interval_type">hours</field>
            <field name="numbercall">-1</field>
            <field name="active">True</field>
            <field name="priority">10</field>
        </record>

        <!-- Scheduled Action: Apply Retention Policies -->
        <record id="ir_cron_retention_policies" model="ir.cron">
            <field name="name">Snapshot: Apply Retention Policies</field>
            <field name="model_id" ref="model_loomworks_snapshot_retention"/>
            <field name="state">code</field>
            <field name="code">model.run_all_retention_policies()</field>
            <field name="interval_number">1</field>
            <field name="interval_type">days</field>
            <field name="numbercall">-1</field>
            <field name="active">True</field>
            <field name="priority">15</field>
        </record>

        <!-- Scheduled Action: Check Tenant Subscriptions -->
        <record id="ir_cron_tenant_subscriptions" model="ir.cron">
            <field name="name">Snapshot: Check Tenant Subscriptions</field>
            <field name="model_id" ref="model_loomworks_tenant"/>
            <field name="state">code</field>
            <field name="code">model.cleanup_expired_subscriptions()</field>
            <field name="interval_number">1</field>
            <field name="interval_type">days</field>
            <field name="numbercall">-1</field>
            <field name="active">True</field>
            <field name="priority">20</field>
        </record>

    </data>
</odoo>
