/**
 * FilterWidget - Global filter control widget
 *
 * Provides interactive filter controls:
 * - Dropdown select
 * - Multi-select
 * - Date range picker
 * - Number range slider
 * - Text search
 */

const {
  useState,
  useMemo,
  useCallback
} = React;
function FilterWidget({
  widget,
  data,
  filters,
  mode,
  onAction
}) {
  const config = widget.config || {};
  const filterType = config.filterType || 'select';
  const fieldName = config.field || '';

  // Current filter value
  const currentValue = filters?.[fieldName];

  // Get options for select filters
  const options = useMemo(() => {
    if (config.options) return config.options;
    if (data?.data) {
      // Extract unique values from data
      return [...new Set(data.data.map(item => item.name))].filter(Boolean).map(value => ({
        value,
        label: value
      }));
    }
    return [];
  }, [config.options, data]);

  // Handle value change
  const handleChange = useCallback(newValue => {
    // This would need to be wired up to parent filter state
    console.log('Filter changed:', fieldName, newValue);
  }, [fieldName]);

  // Render based on filter type
  const renderControl = () => {
    switch (filterType) {
      case 'select':
        return /*#__PURE__*/React.createElement(SelectFilter, {
          options: options,
          value: currentValue,
          placeholder: config.placeholder || 'Select...',
          onChange: handleChange
        });
      case 'multiselect':
        return /*#__PURE__*/React.createElement(MultiSelectFilter, {
          options: options,
          value: currentValue || [],
          placeholder: config.placeholder || 'Select...',
          onChange: handleChange
        });
      case 'date_range':
        return /*#__PURE__*/React.createElement(DateRangeFilter, {
          value: currentValue || {},
          presets: config.datePresets,
          onChange: handleChange
        });
      case 'number_range':
        return /*#__PURE__*/React.createElement(NumberRangeFilter, {
          value: currentValue || {},
          min: config.range?.min || 0,
          max: config.range?.max || 100,
          step: config.range?.step || 1,
          onChange: handleChange
        });
      case 'search':
        return /*#__PURE__*/React.createElement(SearchFilter, {
          value: currentValue || '',
          placeholder: config.placeholder || 'Search...',
          onChange: handleChange
        });
      default:
        return /*#__PURE__*/React.createElement("div", null, "Unknown filter type: ", filterType);
    }
  };
  return /*#__PURE__*/React.createElement("div", {
    className: "lw-filter-widget"
  }, /*#__PURE__*/React.createElement("div", {
    className: "lw-filter-label"
  }, config.label || widget.name), /*#__PURE__*/React.createElement("div", {
    className: "lw-filter-control"
  }, renderControl()));
}

/**
 * Select dropdown filter
 */
function SelectFilter({
  options,
  value,
  placeholder,
  onChange
}) {
  return /*#__PURE__*/React.createElement("select", {
    className: "lw-filter-select",
    value: value || '',
    onChange: e => onChange(e.target.value || null)
  }, /*#__PURE__*/React.createElement("option", {
    value: ""
  }, placeholder), options.map((opt, index) => /*#__PURE__*/React.createElement("option", {
    key: index,
    value: opt.value
  }, opt.label)));
}

/**
 * Multi-select filter
 */
function MultiSelectFilter({
  options,
  value,
  placeholder,
  onChange
}) {
  const [isOpen, setIsOpen] = useState(false);
  const handleToggle = optValue => {
    const newValue = value.includes(optValue) ? value.filter(v => v !== optValue) : [...value, optValue];
    onChange(newValue);
  };
  return /*#__PURE__*/React.createElement("div", {
    className: "lw-filter-multiselect"
  }, /*#__PURE__*/React.createElement("div", {
    className: "lw-filter-multiselect-trigger",
    onClick: () => setIsOpen(!isOpen)
  }, value.length > 0 ? `${value.length} selected` : placeholder, /*#__PURE__*/React.createElement("i", {
    className: `fa fa-chevron-${isOpen ? 'up' : 'down'}`
  })), isOpen && /*#__PURE__*/React.createElement("div", {
    className: "lw-filter-multiselect-dropdown"
  }, options.map((opt, index) => /*#__PURE__*/React.createElement("label", {
    key: index,
    className: "lw-filter-multiselect-option"
  }, /*#__PURE__*/React.createElement("input", {
    type: "checkbox",
    checked: value.includes(opt.value),
    onChange: () => handleToggle(opt.value)
  }), opt.label))));
}

/**
 * Date range filter
 */
function DateRangeFilter({
  value,
  presets,
  onChange
}) {
  const [showPresets, setShowPresets] = useState(false);
  const handlePresetClick = preset => {
    onChange({
      from: preset.from,
      to: preset.to
    });
    setShowPresets(false);
  };
  const defaultPresets = [{
    name: 'Today',
    from: new Date().toISOString().split('T')[0],
    to: new Date().toISOString().split('T')[0]
  }, {
    name: 'Last 7 Days',
    from: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],
    to: new Date().toISOString().split('T')[0]
  }, {
    name: 'Last 30 Days',
    from: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],
    to: new Date().toISOString().split('T')[0]
  }, {
    name: 'This Month',
    from: new Date(new Date().getFullYear(), new Date().getMonth(), 1).toISOString().split('T')[0],
    to: new Date().toISOString().split('T')[0]
  }];
  const effectivePresets = presets || defaultPresets;
  return /*#__PURE__*/React.createElement("div", {
    className: "lw-filter-daterange"
  }, /*#__PURE__*/React.createElement("div", {
    className: "lw-filter-daterange-inputs"
  }, /*#__PURE__*/React.createElement("input", {
    type: "date",
    className: "lw-filter-date-input",
    value: value.from || '',
    onChange: e => onChange({
      ...value,
      from: e.target.value
    }),
    placeholder: "From"
  }), /*#__PURE__*/React.createElement("span", {
    className: "lw-filter-daterange-separator"
  }, "to"), /*#__PURE__*/React.createElement("input", {
    type: "date",
    className: "lw-filter-date-input",
    value: value.to || '',
    onChange: e => onChange({
      ...value,
      to: e.target.value
    }),
    placeholder: "To"
  })), /*#__PURE__*/React.createElement("div", {
    className: "lw-filter-daterange-presets"
  }, /*#__PURE__*/React.createElement("button", {
    className: "lw-filter-preset-toggle",
    onClick: () => setShowPresets(!showPresets)
  }, "Quick select ", /*#__PURE__*/React.createElement("i", {
    className: "fa fa-caret-down"
  })), showPresets && /*#__PURE__*/React.createElement("div", {
    className: "lw-filter-preset-dropdown"
  }, effectivePresets.map((preset, index) => /*#__PURE__*/React.createElement("button", {
    key: index,
    className: "lw-filter-preset-btn",
    onClick: () => handlePresetClick(preset)
  }, preset.name)))));
}

/**
 * Number range filter
 */
function NumberRangeFilter({
  value,
  min,
  max,
  step,
  onChange
}) {
  return /*#__PURE__*/React.createElement("div", {
    className: "lw-filter-numrange"
  }, /*#__PURE__*/React.createElement("input", {
    type: "number",
    className: "lw-filter-num-input",
    value: value.from || '',
    min: min,
    max: max,
    step: step,
    onChange: e => onChange({
      ...value,
      from: parseFloat(e.target.value) || null
    }),
    placeholder: "Min"
  }), /*#__PURE__*/React.createElement("span", {
    className: "lw-filter-numrange-separator"
  }, "to"), /*#__PURE__*/React.createElement("input", {
    type: "number",
    className: "lw-filter-num-input",
    value: value.to || '',
    min: min,
    max: max,
    step: step,
    onChange: e => onChange({
      ...value,
      to: parseFloat(e.target.value) || null
    }),
    placeholder: "Max"
  }));
}

/**
 * Text search filter
 */
function SearchFilter({
  value,
  placeholder,
  onChange
}) {
  const [localValue, setLocalValue] = useState(value);
  const handleSubmit = () => {
    onChange(localValue);
  };
  return /*#__PURE__*/React.createElement("div", {
    className: "lw-filter-search"
  }, /*#__PURE__*/React.createElement("input", {
    type: "text",
    className: "lw-filter-search-input",
    value: localValue,
    onChange: e => setLocalValue(e.target.value),
    onKeyDown: e => e.key === 'Enter' && handleSubmit(),
    placeholder: placeholder
  }), /*#__PURE__*/React.createElement("button", {
    className: "lw-filter-search-btn",
    onClick: handleSubmit
  }, /*#__PURE__*/React.createElement("i", {
    className: "fa fa-search"
  })));
}

// Also export FilterControl for global filters
function FilterControl({
  filter,
  value,
  onChange
}) {
  return /*#__PURE__*/React.createElement(FilterWidget, {
    widget: {
      name: filter.name,
      config: {
        field: filter.fieldName,
        filterType: filter.type,
        label: filter.label,
        placeholder: filter.placeholder,
        options: filter.options,
        datePresets: filter.datePresets,
        range: filter.range
      }
    },
    data: null,
    filters: {
      [filter.fieldName]: value
    },
    mode: "view",
    onAction: () => {}
  });
}

// Export globally
window.FilterWidget = FilterWidget;
window.FilterControl = FilterControl;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZU1lbW8iLCJ1c2VDYWxsYmFjayIsIlJlYWN0IiwiRmlsdGVyV2lkZ2V0Iiwid2lkZ2V0IiwiZGF0YSIsImZpbHRlcnMiLCJtb2RlIiwib25BY3Rpb24iLCJjb25maWciLCJmaWx0ZXJUeXBlIiwiZmllbGROYW1lIiwiZmllbGQiLCJjdXJyZW50VmFsdWUiLCJvcHRpb25zIiwiU2V0IiwibWFwIiwiaXRlbSIsIm5hbWUiLCJmaWx0ZXIiLCJCb29sZWFuIiwidmFsdWUiLCJsYWJlbCIsImhhbmRsZUNoYW5nZSIsIm5ld1ZhbHVlIiwiY29uc29sZSIsImxvZyIsInJlbmRlckNvbnRyb2wiLCJjcmVhdGVFbGVtZW50IiwiU2VsZWN0RmlsdGVyIiwicGxhY2Vob2xkZXIiLCJvbkNoYW5nZSIsIk11bHRpU2VsZWN0RmlsdGVyIiwiRGF0ZVJhbmdlRmlsdGVyIiwicHJlc2V0cyIsImRhdGVQcmVzZXRzIiwiTnVtYmVyUmFuZ2VGaWx0ZXIiLCJtaW4iLCJyYW5nZSIsIm1heCIsInN0ZXAiLCJTZWFyY2hGaWx0ZXIiLCJjbGFzc05hbWUiLCJlIiwidGFyZ2V0Iiwib3B0IiwiaW5kZXgiLCJrZXkiLCJpc09wZW4iLCJzZXRJc09wZW4iLCJoYW5kbGVUb2dnbGUiLCJvcHRWYWx1ZSIsImluY2x1ZGVzIiwidiIsIm9uQ2xpY2siLCJsZW5ndGgiLCJ0eXBlIiwiY2hlY2tlZCIsInNob3dQcmVzZXRzIiwic2V0U2hvd1ByZXNldHMiLCJoYW5kbGVQcmVzZXRDbGljayIsInByZXNldCIsImZyb20iLCJ0byIsImRlZmF1bHRQcmVzZXRzIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwic3BsaXQiLCJub3ciLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwiZWZmZWN0aXZlUHJlc2V0cyIsInBhcnNlRmxvYXQiLCJsb2NhbFZhbHVlIiwic2V0TG9jYWxWYWx1ZSIsImhhbmRsZVN1Ym1pdCIsIm9uS2V5RG93biIsIkZpbHRlckNvbnRyb2wiLCJ3aW5kb3ciXSwic291cmNlcyI6WyIuLi8uLi9yZWFjdC93aWRnZXRzL0ZpbHRlcldpZGdldC5qc3giXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBGaWx0ZXJXaWRnZXQgLSBHbG9iYWwgZmlsdGVyIGNvbnRyb2wgd2lkZ2V0XG4gKlxuICogUHJvdmlkZXMgaW50ZXJhY3RpdmUgZmlsdGVyIGNvbnRyb2xzOlxuICogLSBEcm9wZG93biBzZWxlY3RcbiAqIC0gTXVsdGktc2VsZWN0XG4gKiAtIERhdGUgcmFuZ2UgcGlja2VyXG4gKiAtIE51bWJlciByYW5nZSBzbGlkZXJcbiAqIC0gVGV4dCBzZWFyY2hcbiAqL1xuXG5jb25zdCB7IHVzZVN0YXRlLCB1c2VNZW1vLCB1c2VDYWxsYmFjayB9ID0gUmVhY3Q7XG5cbmZ1bmN0aW9uIEZpbHRlcldpZGdldCh7IHdpZGdldCwgZGF0YSwgZmlsdGVycywgbW9kZSwgb25BY3Rpb24gfSkge1xuICAgIGNvbnN0IGNvbmZpZyA9IHdpZGdldC5jb25maWcgfHwge307XG4gICAgY29uc3QgZmlsdGVyVHlwZSA9IGNvbmZpZy5maWx0ZXJUeXBlIHx8ICdzZWxlY3QnO1xuICAgIGNvbnN0IGZpZWxkTmFtZSA9IGNvbmZpZy5maWVsZCB8fCAnJztcblxuICAgIC8vIEN1cnJlbnQgZmlsdGVyIHZhbHVlXG4gICAgY29uc3QgY3VycmVudFZhbHVlID0gZmlsdGVycz8uW2ZpZWxkTmFtZV07XG5cbiAgICAvLyBHZXQgb3B0aW9ucyBmb3Igc2VsZWN0IGZpbHRlcnNcbiAgICBjb25zdCBvcHRpb25zID0gdXNlTWVtbygoKSA9PiB7XG4gICAgICAgIGlmIChjb25maWcub3B0aW9ucykgcmV0dXJuIGNvbmZpZy5vcHRpb25zO1xuICAgICAgICBpZiAoZGF0YT8uZGF0YSkge1xuICAgICAgICAgICAgLy8gRXh0cmFjdCB1bmlxdWUgdmFsdWVzIGZyb20gZGF0YVxuICAgICAgICAgICAgcmV0dXJuIFsuLi5uZXcgU2V0KGRhdGEuZGF0YS5tYXAoaXRlbSA9PiBpdGVtLm5hbWUpKV1cbiAgICAgICAgICAgICAgICAuZmlsdGVyKEJvb2xlYW4pXG4gICAgICAgICAgICAgICAgLm1hcCh2YWx1ZSA9PiAoeyB2YWx1ZSwgbGFiZWw6IHZhbHVlIH0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW107XG4gICAgfSwgW2NvbmZpZy5vcHRpb25zLCBkYXRhXSk7XG5cbiAgICAvLyBIYW5kbGUgdmFsdWUgY2hhbmdlXG4gICAgY29uc3QgaGFuZGxlQ2hhbmdlID0gdXNlQ2FsbGJhY2soKG5ld1ZhbHVlKSA9PiB7XG4gICAgICAgIC8vIFRoaXMgd291bGQgbmVlZCB0byBiZSB3aXJlZCB1cCB0byBwYXJlbnQgZmlsdGVyIHN0YXRlXG4gICAgICAgIGNvbnNvbGUubG9nKCdGaWx0ZXIgY2hhbmdlZDonLCBmaWVsZE5hbWUsIG5ld1ZhbHVlKTtcbiAgICB9LCBbZmllbGROYW1lXSk7XG5cbiAgICAvLyBSZW5kZXIgYmFzZWQgb24gZmlsdGVyIHR5cGVcbiAgICBjb25zdCByZW5kZXJDb250cm9sID0gKCkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGZpbHRlclR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ3NlbGVjdCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEZpbHRlclxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucz17b3B0aW9uc31cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtjdXJyZW50VmFsdWV9XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17Y29uZmlnLnBsYWNlaG9sZGVyIHx8ICdTZWxlY3QuLi4nfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBjYXNlICdtdWx0aXNlbGVjdCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPE11bHRpU2VsZWN0RmlsdGVyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zPXtvcHRpb25zfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2N1cnJlbnRWYWx1ZSB8fCBbXX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtjb25maWcucGxhY2Vob2xkZXIgfHwgJ1NlbGVjdC4uLid9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNhc2UgJ2RhdGVfcmFuZ2UnOlxuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxEYXRlUmFuZ2VGaWx0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtjdXJyZW50VmFsdWUgfHwge319XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVzZXRzPXtjb25maWcuZGF0ZVByZXNldHN9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNhc2UgJ251bWJlcl9yYW5nZSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPE51bWJlclJhbmdlRmlsdGVyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17Y3VycmVudFZhbHVlIHx8IHt9fVxuICAgICAgICAgICAgICAgICAgICAgICAgbWluPXtjb25maWcucmFuZ2U/Lm1pbiB8fCAwfVxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4PXtjb25maWcucmFuZ2U/Lm1heCB8fCAxMDB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGVwPXtjb25maWcucmFuZ2U/LnN0ZXAgfHwgMX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgY2FzZSAnc2VhcmNoJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8U2VhcmNoRmlsdGVyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17Y3VycmVudFZhbHVlIHx8ICcnfVxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2NvbmZpZy5wbGFjZWhvbGRlciB8fCAnU2VhcmNoLi4uJ31cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gPGRpdj5Vbmtub3duIGZpbHRlciB0eXBlOiB7ZmlsdGVyVHlwZX08L2Rpdj47XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsdy1maWx0ZXItd2lkZ2V0XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImx3LWZpbHRlci1sYWJlbFwiPlxuICAgICAgICAgICAgICAgIHtjb25maWcubGFiZWwgfHwgd2lkZ2V0Lm5hbWV9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibHctZmlsdGVyLWNvbnRyb2xcIj5cbiAgICAgICAgICAgICAgICB7cmVuZGVyQ29udHJvbCgpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG59XG5cbi8qKlxuICogU2VsZWN0IGRyb3Bkb3duIGZpbHRlclxuICovXG5mdW5jdGlvbiBTZWxlY3RGaWx0ZXIoeyBvcHRpb25zLCB2YWx1ZSwgcGxhY2Vob2xkZXIsIG9uQ2hhbmdlIH0pIHtcbiAgICByZXR1cm4gKFxuICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJsdy1maWx0ZXItc2VsZWN0XCJcbiAgICAgICAgICAgIHZhbHVlPXt2YWx1ZSB8fCAnJ31cbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gb25DaGFuZ2UoZS50YXJnZXQudmFsdWUgfHwgbnVsbCl9XG4gICAgICAgID5cbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj57cGxhY2Vob2xkZXJ9PC9vcHRpb24+XG4gICAgICAgICAgICB7b3B0aW9ucy5tYXAoKG9wdCwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICA8b3B0aW9uIGtleT17aW5kZXh9IHZhbHVlPXtvcHQudmFsdWV9PlxuICAgICAgICAgICAgICAgICAgICB7b3B0LmxhYmVsfVxuICAgICAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgICAgKSl9XG4gICAgICAgIDwvc2VsZWN0PlxuICAgICk7XG59XG5cbi8qKlxuICogTXVsdGktc2VsZWN0IGZpbHRlclxuICovXG5mdW5jdGlvbiBNdWx0aVNlbGVjdEZpbHRlcih7IG9wdGlvbnMsIHZhbHVlLCBwbGFjZWhvbGRlciwgb25DaGFuZ2UgfSkge1xuICAgIGNvbnN0IFtpc09wZW4sIHNldElzT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgICBjb25zdCBoYW5kbGVUb2dnbGUgPSAob3B0VmFsdWUpID0+IHtcbiAgICAgICAgY29uc3QgbmV3VmFsdWUgPSB2YWx1ZS5pbmNsdWRlcyhvcHRWYWx1ZSlcbiAgICAgICAgICAgID8gdmFsdWUuZmlsdGVyKHYgPT4gdiAhPT0gb3B0VmFsdWUpXG4gICAgICAgICAgICA6IFsuLi52YWx1ZSwgb3B0VmFsdWVdO1xuICAgICAgICBvbkNoYW5nZShuZXdWYWx1ZSk7XG4gICAgfTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibHctZmlsdGVyLW11bHRpc2VsZWN0XCI+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibHctZmlsdGVyLW11bHRpc2VsZWN0LXRyaWdnZXJcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldElzT3BlbighaXNPcGVuKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7dmFsdWUubGVuZ3RoID4gMCA/IGAke3ZhbHVlLmxlbmd0aH0gc2VsZWN0ZWRgIDogcGxhY2Vob2xkZXJ9XG4gICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPXtgZmEgZmEtY2hldnJvbi0ke2lzT3BlbiA/ICd1cCcgOiAnZG93bid9YH0+PC9pPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7aXNPcGVuICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImx3LWZpbHRlci1tdWx0aXNlbGVjdC1kcm9wZG93blwiPlxuICAgICAgICAgICAgICAgICAgICB7b3B0aW9ucy5tYXAoKG9wdCwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBrZXk9e2luZGV4fSBjbGFzc05hbWU9XCJsdy1maWx0ZXItbXVsdGlzZWxlY3Qtb3B0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3ZhbHVlLmluY2x1ZGVzKG9wdC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoKSA9PiBoYW5kbGVUb2dnbGUob3B0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtvcHQubGFiZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG59XG5cbi8qKlxuICogRGF0ZSByYW5nZSBmaWx0ZXJcbiAqL1xuZnVuY3Rpb24gRGF0ZVJhbmdlRmlsdGVyKHsgdmFsdWUsIHByZXNldHMsIG9uQ2hhbmdlIH0pIHtcbiAgICBjb25zdCBbc2hvd1ByZXNldHMsIHNldFNob3dQcmVzZXRzXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAgIGNvbnN0IGhhbmRsZVByZXNldENsaWNrID0gKHByZXNldCkgPT4ge1xuICAgICAgICBvbkNoYW5nZSh7IGZyb206IHByZXNldC5mcm9tLCB0bzogcHJlc2V0LnRvIH0pO1xuICAgICAgICBzZXRTaG93UHJlc2V0cyhmYWxzZSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGRlZmF1bHRQcmVzZXRzID0gW1xuICAgICAgICB7IG5hbWU6ICdUb2RheScsIGZyb206IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdLCB0bzogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0gfSxcbiAgICAgICAgeyBuYW1lOiAnTGFzdCA3IERheXMnLCBmcm9tOiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gNyAqIDI0ICogNjAgKiA2MCAqIDEwMDApLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSwgdG86IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdIH0sXG4gICAgICAgIHsgbmFtZTogJ0xhc3QgMzAgRGF5cycsIGZyb206IG5ldyBEYXRlKERhdGUubm93KCkgLSAzMCAqIDI0ICogNjAgKiA2MCAqIDEwMDApLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSwgdG86IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdIH0sXG4gICAgICAgIHsgbmFtZTogJ1RoaXMgTW9udGgnLCBmcm9tOiBuZXcgRGF0ZShuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCksIG5ldyBEYXRlKCkuZ2V0TW9udGgoKSwgMSkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdLCB0bzogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0gfSxcbiAgICBdO1xuXG4gICAgY29uc3QgZWZmZWN0aXZlUHJlc2V0cyA9IHByZXNldHMgfHwgZGVmYXVsdFByZXNldHM7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImx3LWZpbHRlci1kYXRlcmFuZ2VcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibHctZmlsdGVyLWRhdGVyYW5nZS1pbnB1dHNcIj5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cImRhdGVcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJsdy1maWx0ZXItZGF0ZS1pbnB1dFwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt2YWx1ZS5mcm9tIHx8ICcnfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IG9uQ2hhbmdlKHsgLi4udmFsdWUsIGZyb206IGUudGFyZ2V0LnZhbHVlIH0pfVxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkZyb21cIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibHctZmlsdGVyLWRhdGVyYW5nZS1zZXBhcmF0b3JcIj50bzwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cImRhdGVcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJsdy1maWx0ZXItZGF0ZS1pbnB1dFwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt2YWx1ZS50byB8fCAnJ31cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBvbkNoYW5nZSh7IC4uLnZhbHVlLCB0bzogZS50YXJnZXQudmFsdWUgfSl9XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiVG9cIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibHctZmlsdGVyLWRhdGVyYW5nZS1wcmVzZXRzXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJsdy1maWx0ZXItcHJlc2V0LXRvZ2dsZVwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dQcmVzZXRzKCFzaG93UHJlc2V0cyl9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBRdWljayBzZWxlY3QgPGkgY2xhc3NOYW1lPVwiZmEgZmEtY2FyZXQtZG93blwiPjwvaT5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICB7c2hvd1ByZXNldHMgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImx3LWZpbHRlci1wcmVzZXQtZHJvcGRvd25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtlZmZlY3RpdmVQcmVzZXRzLm1hcCgocHJlc2V0LCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibHctZmlsdGVyLXByZXNldC1idG5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVQcmVzZXRDbGljayhwcmVzZXQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3ByZXNldC5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn1cblxuLyoqXG4gKiBOdW1iZXIgcmFuZ2UgZmlsdGVyXG4gKi9cbmZ1bmN0aW9uIE51bWJlclJhbmdlRmlsdGVyKHsgdmFsdWUsIG1pbiwgbWF4LCBzdGVwLCBvbkNoYW5nZSB9KSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsdy1maWx0ZXItbnVtcmFuZ2VcIj5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImx3LWZpbHRlci1udW0taW5wdXRcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXt2YWx1ZS5mcm9tIHx8ICcnfVxuICAgICAgICAgICAgICAgIG1pbj17bWlufVxuICAgICAgICAgICAgICAgIG1heD17bWF4fVxuICAgICAgICAgICAgICAgIHN0ZXA9e3N0ZXB9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBvbkNoYW5nZSh7IC4uLnZhbHVlLCBmcm9tOiBwYXJzZUZsb2F0KGUudGFyZ2V0LnZhbHVlKSB8fCBudWxsIH0pfVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiTWluXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJsdy1maWx0ZXItbnVtcmFuZ2Utc2VwYXJhdG9yXCI+dG88L3NwYW4+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJsdy1maWx0ZXItbnVtLWlucHV0XCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17dmFsdWUudG8gfHwgJyd9XG4gICAgICAgICAgICAgICAgbWluPXttaW59XG4gICAgICAgICAgICAgICAgbWF4PXttYXh9XG4gICAgICAgICAgICAgICAgc3RlcD17c3RlcH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IG9uQ2hhbmdlKHsgLi4udmFsdWUsIHRvOiBwYXJzZUZsb2F0KGUudGFyZ2V0LnZhbHVlKSB8fCBudWxsIH0pfVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiTWF4XCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG59XG5cbi8qKlxuICogVGV4dCBzZWFyY2ggZmlsdGVyXG4gKi9cbmZ1bmN0aW9uIFNlYXJjaEZpbHRlcih7IHZhbHVlLCBwbGFjZWhvbGRlciwgb25DaGFuZ2UgfSkge1xuICAgIGNvbnN0IFtsb2NhbFZhbHVlLCBzZXRMb2NhbFZhbHVlXSA9IHVzZVN0YXRlKHZhbHVlKTtcblxuICAgIGNvbnN0IGhhbmRsZVN1Ym1pdCA9ICgpID0+IHtcbiAgICAgICAgb25DaGFuZ2UobG9jYWxWYWx1ZSk7XG4gICAgfTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibHctZmlsdGVyLXNlYXJjaFwiPlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImx3LWZpbHRlci1zZWFyY2gtaW5wdXRcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXtsb2NhbFZhbHVlfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0TG9jYWxWYWx1ZShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgb25LZXlEb3duPXsoZSkgPT4gZS5rZXkgPT09ICdFbnRlcicgJiYgaGFuZGxlU3VibWl0KCl9XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e3BsYWNlaG9sZGVyfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwibHctZmlsdGVyLXNlYXJjaC1idG5cIiBvbkNsaWNrPXtoYW5kbGVTdWJtaXR9PlxuICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhIGZhLXNlYXJjaFwiPjwvaT5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufVxuXG4vLyBBbHNvIGV4cG9ydCBGaWx0ZXJDb250cm9sIGZvciBnbG9iYWwgZmlsdGVyc1xuZnVuY3Rpb24gRmlsdGVyQ29udHJvbCh7IGZpbHRlciwgdmFsdWUsIG9uQ2hhbmdlIH0pIHtcbiAgICByZXR1cm4gKFxuICAgICAgICA8RmlsdGVyV2lkZ2V0XG4gICAgICAgICAgICB3aWRnZXQ9e3tcbiAgICAgICAgICAgICAgICBuYW1lOiBmaWx0ZXIubmFtZSxcbiAgICAgICAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgICAgICAgICAgZmllbGQ6IGZpbHRlci5maWVsZE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlclR5cGU6IGZpbHRlci50eXBlLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogZmlsdGVyLmxhYmVsLFxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogZmlsdGVyLnBsYWNlaG9sZGVyLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBmaWx0ZXIub3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgZGF0ZVByZXNldHM6IGZpbHRlci5kYXRlUHJlc2V0cyxcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2U6IGZpbHRlci5yYW5nZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIGRhdGE9e251bGx9XG4gICAgICAgICAgICBmaWx0ZXJzPXt7IFtmaWx0ZXIuZmllbGROYW1lXTogdmFsdWUgfX1cbiAgICAgICAgICAgIG1vZGU9XCJ2aWV3XCJcbiAgICAgICAgICAgIG9uQWN0aW9uPXsoKSA9PiB7fX1cbiAgICAgICAgLz5cbiAgICApO1xufVxuXG4vLyBFeHBvcnQgZ2xvYmFsbHlcbndpbmRvdy5GaWx0ZXJXaWRnZXQgPSBGaWx0ZXJXaWRnZXQ7XG53aW5kb3cuRmlsdGVyQ29udHJvbCA9IEZpbHRlckNvbnRyb2w7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE1BQU07RUFBRUEsUUFBUTtFQUFFQyxPQUFPO0VBQUVDO0FBQVksQ0FBQyxHQUFHQyxLQUFLO0FBRWhELFNBQVNDLFlBQVlBLENBQUM7RUFBRUMsTUFBTTtFQUFFQyxJQUFJO0VBQUVDLE9BQU87RUFBRUMsSUFBSTtFQUFFQztBQUFTLENBQUMsRUFBRTtFQUM3RCxNQUFNQyxNQUFNLEdBQUdMLE1BQU0sQ0FBQ0ssTUFBTSxJQUFJLENBQUMsQ0FBQztFQUNsQyxNQUFNQyxVQUFVLEdBQUdELE1BQU0sQ0FBQ0MsVUFBVSxJQUFJLFFBQVE7RUFDaEQsTUFBTUMsU0FBUyxHQUFHRixNQUFNLENBQUNHLEtBQUssSUFBSSxFQUFFOztFQUVwQztFQUNBLE1BQU1DLFlBQVksR0FBR1AsT0FBTyxHQUFHSyxTQUFTLENBQUM7O0VBRXpDO0VBQ0EsTUFBTUcsT0FBTyxHQUFHZCxPQUFPLENBQUMsTUFBTTtJQUMxQixJQUFJUyxNQUFNLENBQUNLLE9BQU8sRUFBRSxPQUFPTCxNQUFNLENBQUNLLE9BQU87SUFDekMsSUFBSVQsSUFBSSxFQUFFQSxJQUFJLEVBQUU7TUFDWjtNQUNBLE9BQU8sQ0FBQyxHQUFHLElBQUlVLEdBQUcsQ0FBQ1YsSUFBSSxDQUFDQSxJQUFJLENBQUNXLEdBQUcsQ0FBQ0MsSUFBSSxJQUFJQSxJQUFJLENBQUNDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FDaERDLE1BQU0sQ0FBQ0MsT0FBTyxDQUFD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TUFBTSxDQUFDRTtJQUFHLENBQUMsQ0FBQztJQUM5Q0osY0FBYyxDQUFDLEtBQUssQ0FBQztFQUN6QixDQUFDO0VBRUQsTUFBTUssY0FBYyxHQUFHLENBQ25CO0lBQUU5QyxJQUFJLEVBQUUsT0FBTztJQUFFNEMsSUFBSSxFQUFFLElBQUlHLElBQUksQ0FBQyxDQUFDLENBQUNDLFdBQVcsQ0FBQyxDQUFDLENBQUNDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFBRUosRUFBRSxFQUFFLElBQUlFLElBQUksQ0FBQyxDQUFDLENBQUNDLFdBQVcsQ0FBQyxDQUFDLENBQUNDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0VBQUUsQ0FBQyxFQUMzRztJQUFFakQsSUFBSSxFQUFFLGFBQWE7SUFBRTRDLElBQUksRUFBRSxJQUFJRyxJQUFJLENBQUNBLElBQUksQ0FBQ0csR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUNGLFdBQVcsQ0FBQyxDQUFDLENBQUNDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFBRUosRUFBRSxFQUFFLElBQUlFLElBQUksQ0FBQyxDQUFDLENBQUNDLFdBQVcsQ0FBQyxDQUFDLENBQUNDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0VBQUUsQ0FBQyxFQUNySjtJQUFFakQsSUFBSSxFQUFFLGNBQWM7SUFBRTRDLElBQUksRUFBRSxJQUFJRyxJQUFJLENBQUNBLElBQUksQ0FBQ0csR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUNGLFdBQVcsQ0FBQyxDQUFDLENBQUNDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFBRUosRUFBRSxFQUFFLElBQUlFLElBQUksQ0FBQyxDQUFDLENBQUNDLFdBQVcsQ0FBQyxDQUFDLENBQUNDLEtBQUss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